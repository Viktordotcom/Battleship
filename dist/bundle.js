(()=>{"use strict";const t=()=>{const t=[["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]],e=[],r=[];return{board:t,placeShipAt:(r,o,a,n)=>{const c=10-a.shipLength,i=10-a.shipLength,h=t[r][o];try{for(let e=0;e<a.shipLength;e++){if(0===n&&o>i)throw new Error("Ship goes out of bounds");if(0!==n&&r>c)throw new Error("Ship goes out of bounds");if(0===n){if(""!==t[r][o+e])throw t[r][o]=h,new Error("Ships cannot overlap eachother");t[r][o+e]=a.shipBody[e]}else if(0!==n){if(""!==t[r+e][o])throw new Error("Ships cannot overlap eachother");t[r+e][o]=a.shipBody[e]}}}catch(t){return t}return e.push(a),t},receiveAttack:(o,a)=>{if(""!==t[o][a]&&"o"!==t[o][a]){const r=e.filter((e=>e.shipLength===t[o][a]));r[0].hit(r[0].counterOfHits+=1),t[o][a]="x"}else r.push([o,a]),t[o][a]="o"},areAllShipsSunk:()=>0===e.filter((t=>!1===t.isSunk())).length}},e=t=>{const e=t,r=new Array(t).fill(t);return{shipLength:e,shipBody:r,counterOfHits:-1,hit:t=>(r[t]="x",r),isSunk:()=>r.every((t=>"x"===t))}},r=(t,e)=>{const r=t;return{attack:(t,o)=>{if("Computer"===r)for(let t=0;t<10;t++)for(let r=0;r<10;r++)if("o"!==e.board[t][r]&&"x"!==e.board[t][r])return e.receiveAttack(t,r);return e.receiveAttack(t,o)},playerName:r}},o=document.querySelectorAll(".board-container")[0],a=document.querySelectorAll(".board-container")[1],n=(()=>{const o=[],a=t(),n=t(),c=e(2),i=e(3),h=e(4),p=e(5),s=e(6),l=e(2),u=e(3),d=e(4),f=e(5),S=e(6);a.placeShipAt(0,0,c,0),a.placeShipAt(1,0,i,0),a.placeShipAt(2,0,h,0),a.placeShipAt(3,0,p,0),a.placeShipAt(4,0,s,0),n.placeShipAt(4,0,l,0),n.placeShipAt(5,0,u,0),n.placeShipAt(6,0,d,0),n.placeShipAt(7,0,f,0),n.placeShipAt(8,0,S,0),o.push(a,n);const A=r("Computer",n),m=r("John",a);return{computer:A,human:m,activeGameboards:o,computerGameboard:a,humanGameboard:n,attackThisTurn:(t,e)=>{m.attack(t,e),A.attack(t,e)}}})();function c(t){t.target.textContent="X";const e=t.target.dataset.key.split(",");console.log(e)}const i=(t,e)=>{for(let r=0;r<10;r++)for(let o=0;o<10;o++){const a=document.createElement("div");a.setAttribute("data-key",`${[r,o]}`),a.textContent=t[r][o],a.addEventListener("click",c),e.appendChild(a)}};i(n.computerGameboard.board,o),i(n.humanGameboard.board,a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWSxFQUFHLEVBQUdnRCxFQUFRLEdBQ3pDUixFQUFleEMsWUFBWSxFQUFHLEVBQUdpRCxFQUFRLEdBQ3pDVCxFQUFleEMsWUFBWSxFQUFHLEVBQUdrRCxFQUFRLEdBQ3pDWixFQUFpQnpCLEtBQUswQixFQUFtQkMsR0FFekMsTUFBTVcsRUFBVyxFQUFPLFdBQVlYLEdBQzlCWSxFQUFRLEVBQU8sT0FBUWIsR0FLN0IsTUFBTyxDQUNMWSxTQUFBQSxFQUNBQyxNQUFBQSxFQUNBZCxpQkFBQUEsRUFDQUMsa0JBQUFBLEVBQ0FDLGVBQUFBLEVBQ0FhLGVBVnFCLENBQUNwRCxFQUFHQyxLQUN6QmtELEVBQU1yQixPQUFPOUIsRUFBR0MsR0FDaEJpRCxFQUFTcEIsT0FBTzlCLEVBQUdDLE1EL0JULEdBRWQsU0FBU29ELEVBQVUxQyxHQUNqQkEsRUFBRTJDLE9BQU9DLFlBQWMsSUFDdkIsTUFBTUMsRUFBd0I3QyxFQUFFMkMsT0FBT0csUUFBUUMsSUFBSUMsTUFBTSxLQUN6REMsUUFBUUMsSUFBSUwsR0FHZCxNQUFNTSxFQUFjLENBQUNsRSxFQUFPbUUsS0FDMUIsSUFBSyxJQUFJdkQsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQ3RCLElBQUssSUFBSXVCLEVBQUksRUFBR0EsRUFBSSxHQUFJQSxJQUFLLENBQzNCLE1BQU1pQyxFQUFNL0IsU0FBU2dDLGNBQWMsT0FDbkNELEVBQUlFLGFBQWEsV0FBWSxHQUFHLENBQUMxRCxFQUFHdUIsTUFDcENpQyxFQUFJVCxZQUFjM0QsRUFBTVksR0FBR3VCLEdBQzNCaUMsRUFBSUcsaUJBQWlCLFFBQVNkLEdBRTlCVSxFQUFVSyxZQUFZSixLQUs1QkYsRUFBWTFCLEVBQU1FLGtCQUFrQjFDLE1BQU9vQyxHQUMzQzhCLEVBQVkxQixFQUFNRyxlQUFlM0MsTUFBT3VDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90NC1wcm9qZWN0LWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL3Q0LXByb2plY3QtYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL3Q0LXByb2plY3QtYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vdDQtcHJvamVjdC1iYXR0bGVzaGlwLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3Q0LXByb2plY3QtYmF0dGxlc2hpcC8uL3NyYy9nYW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEdhbWVib2FyZCA9ICgpID0+IHtcbiAgY29uc3QgYm9hcmQgPSBbXG4gICAgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICBdO1xuICBjb25zdCBzaGlwc09uQm9hcmQgPSBbXTtcbiAgY29uc3QgbWlzc2VkID0gW107XG4gIGNvbnN0IHBsYWNlU2hpcEF0ID0gKHgsIHksIHNoaXAsIGRpcmVjdGlvbikgPT4ge1xuICAgIGNvbnN0IG1heFggPSAxMCAtIHNoaXAuc2hpcExlbmd0aDtcbiAgICBjb25zdCBtYXhZID0gMTAgLSBzaGlwLnNoaXBMZW5ndGg7XG4gICAgY29uc3QgcHJlQ2hhbmdlVmFsdWUgPSBib2FyZFt4XVt5XTtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAuc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IDAgJiYgeSA+IG1heFkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGlwIGdvZXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gIT09IDAgJiYgeCA+IG1heFgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGlwIGdvZXMgb3V0IG9mIGJvdW5kc1wiKTtcbiAgICAgICAgICAvLyBob3Jpem9udGFsXG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAwKSB7XG4gICAgICAgICAgaWYgKGJvYXJkW3hdW3kgKyBpXSAhPT0gXCJcIikge1xuICAgICAgICAgICAgYm9hcmRbeF1beV0gPSBwcmVDaGFuZ2VWYWx1ZTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNoaXBzIGNhbm5vdCBvdmVybGFwIGVhY2hvdGhlclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9hcmRbeF1beSArIGldID0gc2hpcC5zaGlwQm9keVtpXTtcblxuICAgICAgICAgIC8vIHZlcnRpY2FsXG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICE9PSAwKSB7XG4gICAgICAgICAgaWYgKGJvYXJkW3ggKyBpXVt5XSAhPT0gXCJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2hpcHMgY2Fubm90IG92ZXJsYXAgZWFjaG90aGVyXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib2FyZFt4ICsgaV1beV0gPSBzaGlwLnNoaXBCb2R5W2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIHNoaXBzT25Cb2FyZC5wdXNoKHNoaXApO1xuICAgIHJldHVybiBib2FyZDtcbiAgfTtcbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgaWYgKGJvYXJkW3hdW3ldICE9PSBcIlwiICYmIGJvYXJkW3hdW3ldICE9PSBcIm9cIikge1xuICAgICAgY29uc3QgaGl0U2hpcCA9IHNoaXBzT25Cb2FyZC5maWx0ZXIoXG4gICAgICAgIChzaGlwKSA9PiBzaGlwLnNoaXBMZW5ndGggPT09IGJvYXJkW3hdW3ldXG4gICAgICApO1xuICAgICAgaGl0U2hpcFswXS5oaXQoKGhpdFNoaXBbMF0uY291bnRlck9mSGl0cyArPSAxKSk7XG4gICAgICBib2FyZFt4XVt5XSA9IFwieFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaXNzZWQucHVzaChbeCwgeV0pO1xuICAgICAgYm9hcmRbeF1beV0gPSBcIm9cIjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGFyZUFsbFNoaXBzU3VuayA9ICgpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJTdW5rID0gc2hpcHNPbkJvYXJkLmZpbHRlcihcbiAgICAgIChzdW5rU2hpcCkgPT4gc3Vua1NoaXAuaXNTdW5rKCkgPT09IGZhbHNlXG4gICAgKTtcbiAgICBpZiAoZmlsdGVyU3Vuay5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBib2FyZCxcbiAgICBwbGFjZVNoaXBBdCxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIGFyZUFsbFNoaXBzU3VuayxcbiAgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBHYW1lYm9hcmQ7XG4iLCJjb25zdCBTaGlwID0gKGxlbmd0aCkgPT4ge1xuICBjb25zdCBzaGlwTGVuZ3RoID0gbGVuZ3RoO1xuICBjb25zdCBzaGlwQm9keSA9IG5ldyBBcnJheShsZW5ndGgpLmZpbGwobGVuZ3RoKTtcbiAgY29uc3QgY291bnRlck9mSGl0cyA9IC0xO1xuICBjb25zdCBoaXQgPSAobnVtKSA9PiB7XG4gICAgc2hpcEJvZHlbbnVtXSA9IFwieFwiO1xuICAgIHJldHVybiBzaGlwQm9keTtcbiAgfTtcbiAgY29uc3QgaXNTdW5rID0gKCkgPT4ge1xuICAgIGNvbnN0IGlzRXZlcnlQYXJ0SGl0ID0gc2hpcEJvZHkuZXZlcnkoKHBhcnQpID0+IHBhcnQgPT09IFwieFwiKTtcbiAgICByZXR1cm4gaXNFdmVyeVBhcnRIaXQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBzaGlwTGVuZ3RoLFxuICAgIHNoaXBCb2R5LFxuICAgIGNvdW50ZXJPZkhpdHMsXG4gICAgaGl0LFxuICAgIGlzU3VuayxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNoaXA7XG4iLCJjb25zdCBQbGF5ZXIgPSAobmFtZSwgZW5lbXlHYW1lYm9hcmQpID0+IHtcbiAgY29uc3QgcGxheWVyTmFtZSA9IG5hbWU7XG4gIGNvbnN0IGF0dGFjayA9ICh4LCB5KSA9PiB7XG4gICAgaWYgKHBsYXllck5hbWUgPT09IFwiQ29tcHV0ZXJcIikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgMTA7IGorKykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGVuZW15R2FtZWJvYXJkLmJvYXJkW2ldW2pdICE9PSBcIm9cIiAmJlxuICAgICAgICAgICAgZW5lbXlHYW1lYm9hcmQuYm9hcmRbaV1bal0gIT09IFwieFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlbmVteUdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGksIGopO1xuXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBlbmVteUdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKHgsIHkpO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiB7XG4gICAgYXR0YWNrLFxuICAgIHBsYXllck5hbWUsXG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7XG4iLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi9nYW1lXCI7XG5cbmNvbnN0IGNvbXB1dGVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ib2FyZC1jb250YWluZXJcIilbMF07XG5jb25zdCBodW1hbkNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9hcmQtY29udGFpbmVyXCIpWzFdO1xuY29uc3QgZ2FtZTEgPSBHYW1lKCk7XG5cbmZ1bmN0aW9uIHBsYWNlTWFyayhlKSB7XG4gIGUudGFyZ2V0LnRleHRDb250ZW50ID0gXCJYXCI7XG4gIGNvbnN0IGNvbnZlcnREYXRhU2V0VG9BcnJheSA9IGUudGFyZ2V0LmRhdGFzZXQua2V5LnNwbGl0KFwiLFwiKTtcbiAgY29uc29sZS5sb2coY29udmVydERhdGFTZXRUb0FycmF5KTtcbn1cblxuY29uc3QgcmVuZGVyQm9hcmQgPSAoYm9hcmQsIGNvbnRhaW5lcikgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBib3guc2V0QXR0cmlidXRlKFwiZGF0YS1rZXlcIiwgYCR7W2ksIGpdfWApO1xuICAgICAgYm94LnRleHRDb250ZW50ID0gYm9hcmRbaV1bal07XG4gICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHBsYWNlTWFyayk7XG5cbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChib3gpO1xuICAgIH1cbiAgfVxufTtcblxucmVuZGVyQm9hcmQoZ2FtZTEuY29tcHV0ZXJHYW1lYm9hcmQuYm9hcmQsIGNvbXB1dGVyQ29udGFpbmVyKTtcbnJlbmRlckJvYXJkKGdhbWUxLmh1bWFuR2FtZWJvYXJkLmJvYXJkLCBodW1hbkNvbnRhaW5lcik7XG5cbmV4cG9ydCBkZWZhdWx0IHJlbmRlckJvYXJkO1xuIiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCBTaGlwIGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vcGxheWVyXCI7XG5cbmNvbnN0IEdhbWUgPSAoKSA9PiB7XG4gIGNvbnN0IGFjdGl2ZUdhbWVib2FyZHMgPSBbXTtcbiAgY29uc3QgY29tcHV0ZXJHYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcbiAgY29uc3QgaHVtYW5HYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcbiAgY29uc3QgY1NoaXAxID0gU2hpcCgyKTtcbiAgY29uc3QgY1NoaXAyID0gU2hpcCgzKTtcbiAgY29uc3QgY1NoaXAzID0gU2hpcCg0KTtcbiAgY29uc3QgY1NoaXA0ID0gU2hpcCg1KTtcbiAgY29uc3QgY1NoaXA1ID0gU2hpcCg2KTtcbiAgY29uc3QgaFNoaXAxID0gU2hpcCgyKTtcbiAgY29uc3QgaFNoaXAyID0gU2hpcCgzKTtcbiAgY29uc3QgaFNoaXAzID0gU2hpcCg0KTtcbiAgY29uc3QgaFNoaXA0ID0gU2hpcCg1KTtcbiAgY29uc3QgaFNoaXA1ID0gU2hpcCg2KTtcbiAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwQXQoMCwgMCwgY1NoaXAxLCAwKTtcbiAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwQXQoMSwgMCwgY1NoaXAyLCAwKTtcbiAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwQXQoMiwgMCwgY1NoaXAzLCAwKTtcbiAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwQXQoMywgMCwgY1NoaXA0LCAwKTtcbiAgY29tcHV0ZXJHYW1lYm9hcmQucGxhY2VTaGlwQXQoNCwgMCwgY1NoaXA1LCAwKTtcblxuICBodW1hbkdhbWVib2FyZC5wbGFjZVNoaXBBdCg0LCAwLCBoU2hpcDEsIDApO1xuICBodW1hbkdhbWVib2FyZC5wbGFjZVNoaXBBdCg1LCAwLCBoU2hpcDIsIDApO1xuICBodW1hbkdhbWVib2FyZC5wbGFjZVNoaXBBdCg2LCAwLCBoU2hpcDMsIDApO1xuICBodW1hbkdhbWVib2FyZC5wbGFjZVNoaXBBdCg3LCAwLCBoU2hpcDQsIDApO1xuICBodW1hbkdhbWVib2FyZC5wbGFjZVNoaXBBdCg4LCAwLCBoU2hpcDUsIDApO1xuICBhY3RpdmVHYW1lYm9hcmRzLnB1c2goY29tcHV0ZXJHYW1lYm9hcmQsIGh1bWFuR2FtZWJvYXJkKTtcblxuICBjb25zdCBjb21wdXRlciA9IFBsYXllcihcIkNvbXB1dGVyXCIsIGh1bWFuR2FtZWJvYXJkKTtcbiAgY29uc3QgaHVtYW4gPSBQbGF5ZXIoXCJKb2huXCIsIGNvbXB1dGVyR2FtZWJvYXJkKTtcbiAgY29uc3QgYXR0YWNrVGhpc1R1cm4gPSAoeCwgeSkgPT4ge1xuICAgIGh1bWFuLmF0dGFjayh4LCB5KTtcbiAgICBjb21wdXRlci5hdHRhY2soeCwgeSk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgY29tcHV0ZXIsXG4gICAgaHVtYW4sXG4gICAgYWN0aXZlR2FtZWJvYXJkcyxcbiAgICBjb21wdXRlckdhbWVib2FyZCxcbiAgICBodW1hbkdhbWVib2FyZCxcbiAgICBhdHRhY2tUaGlzVHVybixcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWU7XG4iXSwibmFtZXMiOlsiYm9hcmQiLCJzaGlwc09uQm9hcmQiLCJtaXNzZWQiLCJwbGFjZVNoaXBBdCIsIngiLCJ5Iiwic2hpcCIsImRpcmVjdGlvbiIsIm1heFgiLCJzaGlwTGVuZ3RoIiwibWF4WSIsInByZUNoYW5nZVZhbHVlIiwiaSIsIkVycm9yIiwic2hpcEJvZHkiLCJlIiwicHVzaCIsInJlY2VpdmVBdHRhY2siLCJoaXRTaGlwIiwiZmlsdGVyIiwiaGl0IiwiY291bnRlck9mSGl0cyIsImFyZUFsbFNoaXBzU3VuayIsInN1bmtTaGlwIiwiaXNTdW5rIiwibGVuZ3RoIiwiQXJyYXkiLCJmaWxsIiwibnVtIiwiZXZlcnkiLCJwYXJ0IiwibmFtZSIsImVuZW15R2FtZWJvYXJkIiwicGxheWVyTmFtZSIsImF0dGFjayIsImoiLCJjb21wdXRlckNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImh1bWFuQ29udGFpbmVyIiwiZ2FtZTEiLCJhY3RpdmVHYW1lYm9hcmRzIiwiY29tcHV0ZXJHYW1lYm9hcmQiLCJodW1hbkdhbWVib2FyZCIsImNTaGlwMSIsImNTaGlwMiIsImNTaGlwMyIsImNTaGlwNCIsImNTaGlwNSIsImhTaGlwMSIsImhTaGlwMiIsImhTaGlwMyIsImhTaGlwNCIsImhTaGlwNSIsImNvbXB1dGVyIiwiaHVtYW4iLCJhdHRhY2tUaGlzVHVybiIsInBsYWNlTWFyayIsInRhcmdldCIsInRleHRDb250ZW50IiwiY29udmVydERhdGFTZXRUb0FycmF5IiwiZGF0YXNldCIsImtleSIsInNwbGl0IiwiY29uc29sZSIsImxvZyIsInJlbmRlckJvYXJkIiwiY29udGFpbmVyIiwiYm94IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhcHBlbmRDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=